---
import Nav from "../components/Nav/Nav.astro";
import Layout from "../layouts/Layout.astro";
import { LoginGoogleButton } from "@/components/dashboardComponents/LoginGoogleButton";
import { LoginFacebookButton } from "@/components/dashboardComponents/LoginFacebookButton";
import { getSessionFromRequest } from "@/pages/api/check-session";
import { GameSelector } from "@/components/games/GamesSelector";

const session = getSessionFromRequest(Astro.request);
const isLoggedIn = session !== null;
---

<Layout>
	<Nav />
	{
		isLoggedIn ? (
			<GameSelector client:only="react" />
		) : (
			<div class="flex items-center justify-center gap-2.5">
				<LoginGoogleButton client:only="react" />
				<LoginFacebookButton client:only="react" />
			</div>
		)
	}
</Layout>
